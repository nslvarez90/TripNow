hacer un api con .NET

usar c#10 

crear una conexion con supabase

usar clean Architeture



Patrón CQRS Lite: Separación de comandos y queries para escalabilidad



Idempotencia: Implementada mediante CorrelationId + tabla IdempotencyKeys



Resiliencia:



Respuesta inmediata (<500ms) con estado PENDING\_RISK\_CHECK



Procesamiento asíncrono via BackgroundService



Polly para retries y circuit breaker



Escalabilidad: Background service puede evolucionar a Azure Functions/AKS



Pruebas: Tests unitarios por capa + tests de integración end-to-end

